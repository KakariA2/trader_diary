<!DOCTYPE html>
<html lang="ru">
<head>
	<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
    <title>–î–Ω–µ–≤–Ω–∏–∫ —Ç—Ä–µ–π–¥–µ—Ä–∞</title>

    <!-- –°–∫—Ä–∏–ø—Ç Google AdSense (–æ–¥–∏–Ω —Ä–∞–∑ –≤ <head>) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3753146282257487"
     crossorigin="anonymous"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            margin: 10px;
            padding: 10px;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        form {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        form input, form select, form button {
            padding: 10px 12px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
            flex: 1 1 200px;
            box-sizing: border-box;
        }

        form button {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 10px;
        }

        .table-wrapper {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            margin-bottom: 20px;
        }

        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: center;
        }

        th {
            background-color: #eaeaea;
        }

        /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ —Ü–µ–Ω—Ç—Ä—É —Å–Ω–∏–∑—É */
        .support-box {
            position: fixed;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #fff9db;
            border: 1px solid #ffd700;
            border-radius: 8px;
            padding: 10px 14px;
            font-size: 14px;
            z-index: 1000;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
            user-select: none;
            cursor: default;
            opacity: 1;
            pointer-events: auto;
            white-space: nowrap;
        }

        .support-box a {
            margin: 0 5px;
            text-decoration: none;
            color: #007BFF;
            font-weight: bold;
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 600px) {
            form {
                flex-direction: column;
                align-items: stretch;
            }

            form input, form select, form button {
                font-size: 14px;
                padding: 6px 8px;
                width: 100%;
                flex: none;
            }

            table, thead, tbody, th, td, tr {
                font-size: 0.9em;
            }

            .support-box {
                bottom: 5px;
                font-size: 12px;
                padding: 6px 10px;
                white-space: normal;
                left: 10px;
                transform: none;
                max-width: calc(100% - 20px);
            }

            h1 {
                font-size: 20px;
                margin-bottom: 10px;
            }

            body {
                margin: 10px;
            }

            .container {
                padding: 5px;
            }

            th, td {
                font-size: 14px;
                padding: 6px 8px;
            }
        }

        /* –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π —Å—Å—ã–ª–∫–∏ */
        .partner-link {
            display: inline-block;
            text-decoration: none;
            border: 1px solid #ccc;
            padding: 5px 10px;
            border-radius: 5px;
            background-color: #f0f8ff;
            color: #0077cc;
            font-weight: bold;
            transition: background-color 0.3s, color 0.3s;
        }
        .partner-link:hover {
            background-color: #0077cc;
            color: #fff;
        }

        /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–ª–∞–º—ã */
        .adsense-container {
            margin: 10px auto;
            text-align: center;
            max-width: 320px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–î–Ω–µ–≤–Ω–∏–∫ —Ç—Ä–µ–π–¥–µ—Ä–∞</h1>

        <div style="margin-top: 20px;">
            <h3>{{ texts['total_profit'] }}:
                <span style="color: {{ 'green' if total_profit >= 0 else 'red' }}">
                    {{ total_profit }}
                </span>
            </h3>

            <h4>{{ texts['profit_by_pair'] }}:</h4>
            <ul>
                {% for pair, profit in profit_by_pair.items() %}
                    <li>{{ pair }}:
                        <span style="color: {{ 'green' if profit >= 0 else 'red' }}">
                            {{ profit }}
                        </span>
                    </li>
                {% endfor %}
            </ul>
        </div>

        <form action="/add" method="POST">
            <input type="text" name="pair" placeholder="–ü–∞—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, EUR/USD)" required>
            <input type="datetime-local" name="date" required>
            <select name="type">
                <option value="Buy">–ö—É–ø–∏—Ç—å</option>
                <option value="Sell">–ü—Ä–æ–¥–∞—Ç—å</option>
            </select>
            <input type="number" name="lot" step="0.01" placeholder="–õ–æ—Ç" required>
            <input type="number" name="profit" step="0.01" placeholder="–ü—Ä–∏–±—ã–ª—å/–£–±—ã—Ç–æ–∫" required>
            <input type="text" name="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π">
            <button type="submit">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>

        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>–ü–∞—Ä–∞</th>
                        <th>–î–∞—Ç–∞</th>
                        <th>–¢–∏–ø</th>
                        <th>–õ–æ—Ç</th>
                        <th>–ü—Ä–∏–±—ã–ª—å/–£–±—ã—Ç–æ–∫</th>
                        <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                    </tr>
                </thead>
                <tbody>
                    {% for trade in trades %}
                    <tr>
                        <td>{{ trade.pair }}</td>
                        <td>{{ trade.date }}</td>
                        <td>{{ trade.type }}</td>
                        <td>{{ trade.lot }}</td>
                        <td>{{ trade.profit }}</td>
                        <td>{{ trade.comment }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3753146282257487"
     crossorigin="anonymous"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-3753146282257487",
    enable_page_level_ads: true
  });
</script>
       
    </div>
 <!-- –ë–ª–æ–∫ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π —Å—Å—ã–ª–∫–∏ -->
        <div style="margin: 10px 0; text-align: center;">
          <a href="https://www.exness.com/ru/partners/?ref=ABC123" target="_blank" rel="noopener noreferrer" class="partner-link">
            üîó –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è —Å—Å—ã–ª–∫–∞
          </a>
        </div> <hr>
   

        <!-- –ë–∞–Ω–Ω–µ—Ä Google AdSense -->
        <div class="adsense-container">
          <ins class="adsbygoogle"
               style="display:inline-block;width:320px;height:50px"
               data-ad-client="ca-pub-3753146282257487"
               data-ad-slot="YOUR_AD_SLOT_HERE"></ins>
          <script>
               (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div> 
    <div class="support-box">
	 <!-- –ë–ª–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
	      <div style="margin-bottom: 5px;">
        ‚òï <strong>–ü–æ–¥–¥–µ—Ä–∂–∏ –ø—Ä–æ–µ–∫—Ç:</strong>
        <a href="https://buymeacoffee.com/kakari" target="_blank" rel="noopener noreferrer">BuyMeACoffee</a> |
        <a href="https://yoomoney.ru/to/4100119196832465" target="_blank" rel="noopener noreferrer">–ÆMoney</a>
      </div>

      <div style="margin-top: 8px; text-align: center;">
        <a href="/feedback" style="margin-right: 10px;">üì© –ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</a>
        <button id="shareBtn" style="
          padding: 8px 14px;
          font-size: 14px;
          background-color: #4CAF50;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
        ">
          üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–≥–æ–º
        </button>
      </div>
    </div>

<script>
  document.getElementById('shareBtn').addEventListener('click', async () => {
    if (navigator.share) {
      try {
        await navigator.share({
          title: '–î–Ω–µ–≤–Ω–∏–∫ —Ç—Ä–µ–π–¥–µ—Ä–∞',
          text: '–ü–æ–ø—Ä–æ–±—É–π —ç—Ç–æ—Ç –ø–æ–ª–µ–∑–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: –î–Ω–µ–≤–Ω–∏–∫ —Ç—Ä–µ–π–¥–µ—Ä–∞ üìà',
          url: window.location.href
        });
      } catch (err) {
        console.log('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è:', err);
      }
    } else {
      alert('–§—É–Ω–∫—Ü–∏—è ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.');
    }
  });
</script>

</body>
</html>
